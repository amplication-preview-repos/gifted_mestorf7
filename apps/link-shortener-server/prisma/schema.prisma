datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Projects {
  createdAt   DateTime @default(now())
  id          String   @id @default(cuid())
  linksItems  Links[]
  projectName String?
  updatedAt   DateTime @updatedAt
  user        User?    @relation(fields: [userId], references: [id])
  userId      String?
}

model QrCodes {
  createdAt   DateTime @default(now())
  id          String   @id @default(cuid())
  link        Links?   @relation(fields: [linkId], references: [id])
  linkId      String?
  qrCodeImage Json?
  updatedAt   DateTime @updatedAt
}

model SubscriptionPlans {
  createdAt     DateTime @default(now())
  id            String   @id @default(cuid())
  linksLimit    Int?
  name          String?
  price         Float?
  projectsLimit Int?
  updatedAt     DateTime @updatedAt
}

model Invitations {
  createdAt      DateTime @default(now())
  email          String?
  id             String   @id @default(cuid())
  invitationCode String?
  invitedBy      String?
  invitedUser    String?
  updatedAt      DateTime @updatedAt
}

model Links {
  createdAt    DateTime  @default(now())
  id           String    @id @default(cuid())
  originalUrl  String?
  project      Projects? @relation(fields: [projectId], references: [id])
  projectId    String?
  qrCodesItems QrCodes[]
  shortenedUrl String?
  updatedAt    DateTime  @updatedAt
}

model User {
  admin         Boolean?
  createdAt     DateTime   @default(now())
  email         String?    @unique
  firstName     String?
  id            String     @id @default(cuid())
  lastName      String?
  password      String
  permissions   Json?
  projectsItems Projects[]
  roles         Json
  superAdmin    Boolean?
  updatedAt     DateTime   @updatedAt
  username      String     @unique
}
